---
title: "Tutorial"
layout: post
---
## _ How we downloaded the dataset

In the beginning we start from the unofficial website so we figured out we have to know what does mean the ten digits number XXXXXXXXXX that we need to choose as GAME_ID
We analyze them and understand that


the first 4 digits identify the season for example 2016 for the 2016-2017 season. The next 2 digits gives the type of game
- 01 = preseason
-  02 = regular season
-  03 = playoffs
-  04 = all-star
The final 4 digits identify the specific game number as follow 
- regular season and preseason games
- playoff games, the 2nd digit of the specific number gives the round of the playoffs, 
-3rd digit specifies the matchup, and 
-4th digit specifies the game (out of 7).
after that we try to figure it out the structure of the NHL database.
so we look in to some small parts and save in Jason file and try to see what actually we can do how we can sparssing data in python .
we see that we have to work on this Jason file to be able to access to the details 
we tried recursion function to go to nested dictionary in the Jason file but we had som problem about to passing all informations.



## NHL Scraper API
The Purpose of this package:
Provide a Python API for accessing NHL game data including plays by plays informations such as game summaries, player stats and play-by-play visualizations. They're all lots good information that is hides on NHL API website scraping process regarding the outputs. In this project we are trying to show all NHL analytics we could like to seek from NHL API.
Our package can extract let's say all most the game summary report as well as show an visualization at same time.

## Installation
Getting started is as easy as:
Pip install ????

a function that accepts the target year and a filepath as an argument and then checks at the specified filepath for a file corresponding to the dataset that we are going to download. If it exists, it could immediately open up the file and return the saved contents. If not, it could download the contents from the REST API and save it to the file before returning the data. This means that the first time we run this function, it will automatically download and cache the data locally, and the next time we run the same function, it will instead load the local data.


we create a class which implements  itself nicely to how the data is separated by hockey seasons, and it would allow us to add logic that would generalize to any other season that we may wish to analyze in a clean way.

[
this is a
    multiline
comment
]: #

[   as is this compact version
    with no space between `:` and `#`
]:#

 
[To get even fancier still, you could consider overloading the “add” (__add__) operator on this class to allow you to add the data between seasons to a common data structure, allowing you to aggregate data across seasons. This is absolutely not required, these are just some ideas to inspire you! You are encouraged to be creative and apply your old data structures/OOP knowledge to data science - it can make your life a lot easier]:#
## Usage Example 
To download the data for seasons 2017: 
```{python}
get_all_data_by_season(year=2017, out_path="2017")
```
To have in data frame format for spsific game ID :
```
get_goal_shots_data_by_game_id(game_id=2017020001)
```
 Here is a summrize on what we have in our implementation
 ```{python}
 get_json_path(game_id: int):
 ```
 This function takes an input game id and return the location of the json file
  ```{python}
flatten_player_data(player_list):
 ```{python}
    This function transform list of players into a flatten encoded string in the form of list of players data.
  ```{python}    
get_goal_shots_data_by_game_id(game_id: int):
 ```
    This functions transforms the json data into a data frame by filtering the relevant live data of the matchs which is   restricted to "Shots" and "Goals"
 ```{python}    
    get_all_relevant_game_ids_by_season(season_year: int):
 ```
    This functions fetches all the game ids having game type Regular Season and Playoffs
```{python}
save_data_to_json(year, game_type, data, save_path)
 ```
A function which will help the extracted data from the NHL API locally into a json file
```{python}
    get_all_data_by_season(year: int, out_path: str)
 ```
    This function will fetch both the games which are regular seasons and playoffs for the entire season
